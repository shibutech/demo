<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Prices - KrishiSetu</title>
    <meta name="description" content="Real-time market prices for crops, seeds, and agricultural commodities">
    <meta name="theme-color" content="#4CAF50">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%234CAF50' d='M50 10c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 70c-16.569 0-30-13.431-30-30s13.431-30 30-30 30 13.431 30 30-13.431 30-30 30z'/%3E%3Cpath fill='%234CAF50' d='M50 25c-13.807 0-25 11.193-25 25s11.193 25 25 25 25-11.193 25-25-11.193-25-25-25zm0 40c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15z'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Market Price Specific Styles */
        .market-price-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .price-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .price-header h1 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .price-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .price-controls {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 500;
            color: var(--text-primary);
        }

        .control-group select,
        .control-group input {
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .refresh-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .last-updated {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .refresh-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .refresh-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .refresh-btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        .price-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .stat-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .price-table-container {
            background: white;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .table-header {
            background: var(--primary-color);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table-header h3 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .table-actions {
            display: flex;
            gap: 0.5rem;
        }

        .table-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .table-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .price-table {
            width: 100%;
            border-collapse: collapse;
        }

        .price-table th {
            background: var(--background-secondary);
            color: var(--text-primary);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--border-color);
        }

        .price-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            vertical-align: top;
        }

        .price-table tbody tr:hover {
            background: var(--background-secondary);
        }

        .commodity-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .commodity-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        .commodity-details {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .price-range {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .price-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .price-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .price-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
        }

        .trend-up {
            color: var(--success-color);
        }

        .trend-down {
            color: var(--error-color);
        }

        .trend-stable {
            color: var(--text-secondary);
        }

        .market-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .market-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .market-location {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .arrival-date {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            text-align: center;
            box-shadow: var(--shadow-hover);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        .error-message {
            background: rgba(244, 67, 54, 0.1);
            color: var(--error-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--error-color);
            margin: 1rem 0;
            text-align: center;
        }

        .no-data {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .no-data i {
            font-size: 3rem;
            color: var(--border-color);
            margin-bottom: 1rem;
        }

        .pagination {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            background: var(--background-secondary);
        }

        .pagination-btn {
            background: white;
            border: 1px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .pagination-btn:hover:not(:disabled) {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .controls-grid {
                grid-template-columns: 1fr;
            }

            .refresh-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .price-table {
                font-size: 0.875rem;
            }

            .price-table th,
            .price-table td {
                padding: 0.75rem 0.5rem;
            }

            .table-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .table-actions {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .price-table {
                font-size: 0.8rem;
            }

            .price-table th,
            .price-table td {
                padding: 0.5rem 0.25rem;
            }

            .commodity-info,
            .price-range,
            .market-info {
                gap: 0.125rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <i class="fas fa-seedling"></i>
                <h1>KrishiSetu</h1>
            </div>
            <div class="header-actions">
                <a href="index.html" class="btn btn-outline">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="dashboard.html" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="weather-forecast.html" class="nav-item">
                <i class="fas fa-cloud-sun"></i>
                <span>Weather</span>
            </a>
            <a href="farming-calendar.html" class="nav-item">
                <i class="fas fa-calendar-alt"></i>
                <span>Calendar</span>
            </a>
            <a href="soil-analysis.html" class="nav-item">
                <i class="fas fa-flask"></i>
                <span>Soil Analysis</span>
            </a>
            <a href="pest-detection.html" class="nav-item">
                <i class="fas fa-bug"></i>
                <span>Pest Detection</span>
            </a>
            <a href="market-price.html" class="nav-item active">
                <i class="fas fa-chart-line"></i>
                <span>Market Prices</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="market-price-container">
            <!-- Header Section -->
            <div class="price-header">
                <h1><i class="fas fa-chart-line"></i> Market Prices</h1>
                <p>Real-time agricultural commodity prices from markets across India</p>
            </div>

            <!-- Price Controls -->
            <div class="price-controls">
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="stateFilter">State</label>
                        <select id="stateFilter">
                            <option value="">All States</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="districtFilter">District</label>
                        <select id="districtFilter">
                            <option value="">All Districts</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="commodityFilter">Commodity</label>
                        <select id="commodityFilter">
                            <option value="">All Commodities</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="searchInput">Search</label>
                        <input type="text" id="searchInput" placeholder="Search commodities, markets...">
                    </div>
                </div>
                <div class="refresh-controls">
                    <div class="last-updated">
                        <i class="fas fa-clock"></i>
                        <span id="lastUpdated">Last updated: Never</span>
                    </div>
                    <button class="refresh-btn" id="refreshBtn">
                        <i class="fas fa-sync-alt"></i>
                        <span>Refresh Prices</span>
                    </button>
                </div>
            </div>

            <!-- Price Statistics -->
            <div class="price-stats" id="priceStats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stat-value" id="totalRecords">0</div>
                    <div class="stat-label">Total Records</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="stat-value" id="totalMarkets">0</div>
                    <div class="stat-label">Markets</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <div class="stat-value" id="totalCommodities">0</div>
                    <div class="stat-label">Commodities</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-rupee-sign"></i>
                    </div>
                    <div class="stat-value" id="avgPrice">₹0</div>
                    <div class="stat-label">Avg Price</div>
                </div>
            </div>

            <!-- Price Table -->
            <div class="price-table-container">
                <div class="table-header">
                    <h3>
                        <i class="fas fa-table"></i>
                        Market Price Data
                    </h3>
                    <div class="table-actions">
                        <button class="table-btn" id="exportBtn" title="Export Data">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="table-btn" id="sortBtn" title="Sort by Price">
                            <i class="fas fa-sort"></i>
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table class="price-table" id="priceTable">
                        <thead>
                            <tr>
                                <th>Commodity</th>
                                <th>Market</th>
                                <th>Min Price</th>
                                <th>Max Price</th>
                                <th>Modal Price</th>
                                <th>Arrival Date</th>
                            </tr>
                        </thead>
                        <tbody id="priceTableBody">
                            <!-- Data will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination" id="pagination">
                    <button class="pagination-btn" id="prevBtn" disabled>
                        <i class="fas fa-chevron-left"></i>
                        Previous
                    </button>
                    <div class="pagination-info" id="paginationInfo">
                        Page 1 of 1
                    </div>
                    <button class="pagination-btn" id="nextBtn" disabled>
                        Next
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Loading market prices...</p>
        </div>
    </div>

    <script>
        // API Configuration
        const API_BASE_URL = 'https://api.data.gov.in/resource/9ef84268-d588-465a-a308-a864a43d0070';
        const API_KEY = '579b464db66ec23bdd000001cdd3946e44ce4aad7209ff7b23ac571b';
        
        // Global variables
        let currentData = [];
        let filteredData = [];
        let currentPage = 1;
        const itemsPerPage = 20;
        let sortOrder = 'asc';

        // DOM Elements
        const stateFilter = document.getElementById('stateFilter');
        const districtFilter = document.getElementById('districtFilter');
        const commodityFilter = document.getElementById('commodityFilter');
        const searchInput = document.getElementById('searchInput');
        const refreshBtn = document.getElementById('refreshBtn');
        const lastUpdated = document.getElementById('lastUpdated');
        const priceTableBody = document.getElementById('priceTableBody');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const totalRecords = document.getElementById('totalRecords');
        const totalMarkets = document.getElementById('totalMarkets');
        const totalCommodities = document.getElementById('totalCommodities');
        const avgPrice = document.getElementById('avgPrice');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const paginationInfo = document.getElementById('paginationInfo');
        const exportBtn = document.getElementById('exportBtn');
        const sortBtn = document.getElementById('sortBtn');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadMarketPrices();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            refreshBtn.addEventListener('click', loadMarketPrices);
            stateFilter.addEventListener('change', filterData);
            districtFilter.addEventListener('change', filterData);
            commodityFilter.addEventListener('change', filterData);
            searchInput.addEventListener('input', filterData);
            prevBtn.addEventListener('click', () => changePage(currentPage - 1));
            nextBtn.addEventListener('click', () => changePage(currentPage + 1));
            exportBtn.addEventListener('click', exportData);
            sortBtn.addEventListener('click', toggleSort);
        }

        // Load market prices from API
        async function loadMarketPrices() {
            showLoading(true);
            try {
                const response = await fetch(`${API_BASE_URL}?api-key=${API_KEY}&format=json&limit=1000`);
                const data = await response.json();
                
                if (data.records) {
                    currentData = data.records;
                    filteredData = [...currentData];
                    updateStatistics();
                    populateFilters();
                    renderTable();
                    updateLastUpdated();
                } else {
                    showError('Failed to load market prices. Please try again.');
                }
            } catch (error) {
                console.error('Error loading market prices:', error);
                showError('Failed to load market prices. Please check your internet connection.');
            } finally {
                showLoading(false);
            }
        }

        // Show/hide loading overlay
        function showLoading(show) {
            loadingOverlay.style.display = show ? 'flex' : 'none';
            refreshBtn.disabled = show;
        }

        // Show error message
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${message}`;
            
            const container = document.querySelector('.market-price-container');
            const existingError = container.querySelector('.error-message');
            if (existingError) {
                existingError.remove();
            }
            
            container.insertBefore(errorDiv, container.querySelector('.price-stats'));
        }

        // Update statistics
        function updateStatistics() {
            const uniqueMarkets = new Set(filteredData.map(item => item.market)).size;
            const uniqueCommodities = new Set(filteredData.map(item => item.commodity)).size;
            const prices = filteredData.map(item => parseFloat(item.modal_price) || 0).filter(price => price > 0);
            const avgPriceValue = prices.length > 0 ? prices.reduce((sum, price) => sum + price, 0) / prices.length : 0;

            totalRecords.textContent = filteredData.length.toLocaleString();
            totalMarkets.textContent = uniqueMarkets.toLocaleString();
            totalCommodities.textContent = uniqueCommodities.toLocaleString();
            avgPrice.textContent = `₹${Math.round(avgPriceValue).toLocaleString()}`;
        }

        // Populate filter dropdowns
        function populateFilters() {
            // Populate states
            const states = [...new Set(currentData.map(item => item.state))].sort();
            stateFilter.innerHTML = '<option value="">All States</option>' + 
                states.map(state => `<option value="${state}">${state}</option>`).join('');

            // Populate districts
            const districts = [...new Set(currentData.map(item => item.district))].sort();
            districtFilter.innerHTML = '<option value="">All Districts</option>' + 
                districts.map(district => `<option value="${district}">${district}</option>`).join('');

            // Populate commodities
            const commodities = [...new Set(currentData.map(item => item.commodity))].sort();
            commodityFilter.innerHTML = '<option value="">All Commodities</option>' + 
                commodities.map(commodity => `<option value="${commodity}">${commodity}</option>`).join('');
        }

        // Filter data based on selected filters
        function filterData() {
            const stateValue = stateFilter.value.toLowerCase();
            const districtValue = districtFilter.value.toLowerCase();
            const commodityValue = commodityFilter.value.toLowerCase();
            const searchValue = searchInput.value.toLowerCase();

            filteredData = currentData.filter(item => {
                const matchesState = !stateValue || item.state.toLowerCase().includes(stateValue);
                const matchesDistrict = !districtValue || item.district.toLowerCase().includes(districtValue);
                const matchesCommodity = !commodityValue || item.commodity.toLowerCase().includes(commodityValue);
                const matchesSearch = !searchValue || 
                    item.commodity.toLowerCase().includes(searchValue) ||
                    item.market.toLowerCase().includes(searchValue) ||
                    item.state.toLowerCase().includes(searchValue) ||
                    item.district.toLowerCase().includes(searchValue);

                return matchesState && matchesDistrict && matchesCommodity && matchesSearch;
            });

            currentPage = 1;
            updateStatistics();
            renderTable();
        }

        // Render the price table
        function renderTable() {
            if (filteredData.length === 0) {
                priceTableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="no-data">
                            <i class="fas fa-search"></i>
                            <p>No market price data found for the selected filters.</p>
                        </td>
                    </tr>
                `;
                updatePagination();
                return;
            }

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = filteredData.slice(startIndex, endIndex);

            priceTableBody.innerHTML = pageData.map(item => `
                <tr>
                    <td>
                        <div class="commodity-info">
                            <div class="commodity-name">${item.commodity}</div>
                            <div class="commodity-details">
                                ${item.variety} • ${item.grade}
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="market-info">
                            <div class="market-name">${item.market}</div>
                            <div class="market-location">${item.district}, ${item.state}</div>
                        </div>
                    </td>
                    <td>
                        <div class="price-range">
                            <div class="price-value">₹${parseInt(item.min_price).toLocaleString()}</div>
                            <div class="price-label">Min Price</div>
                        </div>
                    </td>
                    <td>
                        <div class="price-range">
                            <div class="price-value">₹${parseInt(item.max_price).toLocaleString()}</div>
                            <div class="price-label">Max Price</div>
                        </div>
                    </td>
                    <td>
                        <div class="price-range">
                            <div class="price-value">₹${parseInt(item.modal_price).toLocaleString()}</div>
                            <div class="price-label">Modal Price</div>
                        </div>
                    </td>
                    <td>
                        <div class="arrival-date">${item.arrival_date}</div>
                    </td>
                </tr>
            `).join('');

            updatePagination();
        }

        // Update pagination controls
        function updatePagination() {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            
            prevBtn.disabled = currentPage <= 1;
            nextBtn.disabled = currentPage >= totalPages;
            
            paginationInfo.textContent = `Page ${currentPage} of ${totalPages} (${filteredData.length} records)`;
        }

        // Change page
        function changePage(page) {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
            }
        }

        // Toggle sort order
        function toggleSort() {
            sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            filteredData.sort((a, b) => {
                const priceA = parseFloat(a.modal_price) || 0;
                const priceB = parseFloat(b.modal_price) || 0;
                return sortOrder === 'asc' ? priceA - priceB : priceB - priceA;
            });
            currentPage = 1;
            renderTable();
            
            // Update sort button icon
            sortBtn.innerHTML = sortOrder === 'asc' ? 
                '<i class="fas fa-sort-amount-up"></i>' : 
                '<i class="fas fa-sort-amount-down"></i>';
        }

        // Export data
        function exportData() {
            if (filteredData.length === 0) {
                alert('No data to export');
                return;
            }

            const csvContent = [
                ['Commodity', 'Variety', 'Grade', 'Market', 'District', 'State', 'Min Price', 'Max Price', 'Modal Price', 'Arrival Date'],
                ...filteredData.map(item => [
                    item.commodity,
                    item.variety,
                    item.grade,
                    item.market,
                    item.district,
                    item.state,
                    item.min_price,
                    item.max_price,
                    item.modal_price,
                    item.arrival_date
                ])
            ].map(row => row.join(',')).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `market-prices-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Update last updated time
        function updateLastUpdated() {
            const now = new Date();
            lastUpdated.textContent = `Last updated: ${now.toLocaleString()}`;
        }

        // Auto-refresh every 5 minutes
        setInterval(() => {
            loadMarketPrices();
        }, 5 * 60 * 1000);
    </script>
</body>
</html>
